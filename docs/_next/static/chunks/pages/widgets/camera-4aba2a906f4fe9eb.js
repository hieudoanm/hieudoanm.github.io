(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1983],{1018:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/widgets/camera",function(){return r(6044)}])},2883:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var l=r(7356);let i=r.n(l)()()},6044:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var l=r(7127),i=r(4391);let n=e=>{let{width:t=0,height:r=0,facingMode:l="environment"}=e,[n,s]=(0,i.useState)(null);return(0,i.useEffect)(()=>((async e=>{let{width:t,height:r,facingMode:l}=e;try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:l,width:t,height:r}});s(e)}catch(e){console.error("error",e)}})({width:t,height:r,facingMode:l}),()=>{if(n)for(let e of n.getTracks())e.stop()}),[t,r,l]),n};var s=r(2883),d=r(8976);let a=()=>{var e,t,r,a;let c=(0,i.useRef)(null),[u,o]=(0,i.useState)({width:null!=(r=null==(e=c.current)?void 0:e.videoWidth)?r:0,height:null!=(a=null==(t=c.current)?void 0:t.videoHeight)?a:0}),h=n({width:u.width,height:u.height,facingMode:"environment"});return((0,i.useEffect)(()=>{if(!h||"undefined"==typeof document)return;s.v.info(h);let e=document.getElementById("camera");return e.srcObject=h,()=>{e.srcObject=null}},[h]),(0,i.useEffect)(()=>(window.addEventListener("resize",()=>{var e,t,r,l;let i=null!=(r=null==(e=c.current)?void 0:e.videoWidth)?r:0,n=null!=(l=null==(t=c.current)?void 0:t.videoHeight)?l:0,s=i<n?i:n;o({width:s,height:s})},!0),()=>{window.removeEventListener("resize",()=>{},!1)}),[]),h)?(0,l.jsx)("div",{className:"shadow-3xl relative aspect-square w-full max-w-60 overflow-hidden rounded-3xl bg-gray-900 text-gray-100",children:(0,l.jsx)("div",{className:"h-full w-full p-2",children:(0,l.jsx)("video",{id:"camera",className:"h-full overflow-hidden rounded-2xl object-cover grayscale",ref:c,autoPlay:!0,children:(0,l.jsx)("track",{kind:"captions"})})})}):(0,l.jsx)("div",{className:"shadow-3xl relative aspect-square w-full max-w-60 overflow-hidden rounded-3xl bg-gray-900 text-gray-100",children:(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center p-2",children:(0,l.jsx)(d.p5B,{})})})},c=()=>(0,l.jsx)("div",{className:"h-screen w-screen overflow-hidden bg-gray-100",children:(0,l.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,l.jsx)(a,{})})})}},e=>{var t=t=>e(e.s=t);e.O(0,[5082,7696,636,6593,8792],()=>t(1018)),_N_E=e.O()}]);