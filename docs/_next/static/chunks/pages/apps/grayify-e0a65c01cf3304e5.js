(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4820],{1609:(e,a,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/grayify",function(){return l(4693)}])},4693:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>o});var t=l(612);let r={src:"/nothing/_next/static/media/film.d64a9c6f.jpg"};var n=l(4344),i=l(3440),s=l.n(i);let o=()=>{let e=(0,n.useRef)(null),[{base64:a=r.src,aspectRatio:l="3 / 2",loading:i=!1},o]=(0,n.useState)({base64:r.src,aspectRatio:"3 / 2",loading:!1});return(0,t.jsx)("div",{className:"container mx-auto p-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsxs)("label",{htmlFor:"upload-image",className:"cursor-pointer border border-dotted px-4 py-2 text-center",children:[(0,t.jsx)("input",{type:"file",name:"image",accept:"image/*",id:"upload-image",className:"hidden",onChange:e=>{let a=e.target.files;if(null===a)return;let l=a[0],t=new FileReader;t.readAsDataURL(l),t.onload=()=>{o(e=>{var a,l;return{...e,base64:null!==(l=null===(a=t.result)||void 0===a?void 0:a.toString())&&void 0!==l?l:r.src}})},t.onerror=e=>{console.error("Error converting file to Base64:",e)}}}),(0,t.jsx)("span",{children:"Upload File"})]}),(0,t.jsx)("button",{className:"w-full",style:{aspectRatio:l},onClick:()=>{o(e=>({...e,aspectRatio:"3 / 2"===e.aspectRatio?"2 / 3":"3 / 2"}))},children:(0,t.jsx)("div",{ref:e,className:"h-full w-full",children:(0,t.jsx)("div",{className:"h-full w-full bg-cover bg-center grayscale",style:{backgroundImage:"url(".concat(a,")")}})})}),(0,t.jsx)("button",{type:"button",className:"w-full cursor-pointer bg-gray-900 px-4 py-2 text-gray-100",disabled:i,onClick:async()=>{if(e.current){console.info("Loading"),o(e=>({...e,loading:!0})),await new Promise(e=>requestAnimationFrame(e));let a=(await s()(e.current,{scale:10,allowTaint:!0,width:e.current.offsetWidth,height:e.current.offsetHeight})).toDataURL("image/jpeg"),l=document.createElement("a");l.href=a,l.download="image.jpg",l.click(),l.remove(),o(e=>({...e,loading:!1}))}},children:i?"Downloading":"Download"})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[4310,636,6593,8792],()=>a(1609)),_N_E=e.O()}]);