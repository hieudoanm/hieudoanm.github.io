(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5614],{39109:(A,e,a)=>{"use strict";a.d(e,{A:()=>t});let t={src:"/_next/static/media/film.d64a9c6f.jpg",height:2107,width:3745,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAAhBP/xAAdEAABAwUBAAAAAAAAAAAAAAACAQMEAAURMUJh/9oACAEBAAE/AJtyZVkjOC0Rl0u/c1//xAAXEQADAQAAAAAAAAAAAAAAAAAAAhNS/9oACAECAQE/AKPo/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQMAEiH/2gAIAQMBAT8AKFHaCf/Z",blurWidth:8,blurHeight:5}},51247:(A,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var t=a(13501),l=a(39109),i=a(67331),n=a.n(i),r=a(71457);let s=()=>{let A=(0,r.useRef)(null),[{base64:e=l.A.src,aspectRatio:i="3 / 2",loading:s=!1},o]=(0,r.useState)({base64:l.A.src,aspectRatio:"3 / 2",loading:!1});return(0,t.jsx)("div",{className:"container mx-auto p-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsxs)("label",{htmlFor:"upload-image",className:"cursor-pointer border border-dotted px-4 py-2 text-center",children:[(0,t.jsx)("input",{type:"file",name:"image",accept:"image/*",id:"upload-image",className:"hidden",onChange:A=>{let e=A.target.files;if(null===e)return;let t=e[0],i=new FileReader;i.readAsDataURL(t),i.onload=()=>{var A,e;let t=null!==(e=null===(A=i.result)||void 0===A?void 0:A.toString())&&void 0!==e?e:"",n=new Image;n.src=t,n.onload=async()=>{let{grayscale:A,open_image:e}=await a.e(1646).then(a.bind(a,1646)),i=document.createElement("canvas");i.width=n.width,i.height=n.height;let r=i.getContext("2d");if(null===r)return;r.drawImage(n,0,0);let s=e(i,r);A(s);let c=s.get_base64();console.info("Grayscale Base64:",c),o(A=>{var e;return{...A,base64:null!==(e=null!=c?c:t)&&void 0!==e?e:l.A.src}})}},i.onerror=A=>{console.error("Error converting file to Base64:",A)}}}),(0,t.jsx)("span",{children:"Upload File"})]}),(0,t.jsx)("button",{className:"w-full",style:{aspectRatio:i},onClick:()=>{o(A=>({...A,aspectRatio:"3 / 2"===A.aspectRatio?"2 / 3":"3 / 2"}))},children:(0,t.jsx)("div",{ref:A,className:"h-full w-full",children:(0,t.jsx)("div",{className:"h-full w-full bg-cover bg-center",style:{backgroundImage:"url(".concat(e,")")}})})}),(0,t.jsx)("button",{type:"button",className:"w-full cursor-pointer bg-gray-900 px-4 py-2 text-gray-100",disabled:s,onClick:async()=>{if(A.current){console.info("Loading"),o(A=>({...A,loading:!0})),await new Promise(A=>requestAnimationFrame(A));let e=(await n()(A.current,{scale:10,allowTaint:!0,width:A.current.offsetWidth,height:A.current.offsetHeight})).toDataURL("image/jpeg"),a=document.createElement("a");a.href=e,a.download="image.jpg",a.click(),a.remove(),o(A=>({...A,loading:!1}))}},children:s?"Downloading":"Download"})]})})}},66622:(A,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/images/filter/grayscale",function(){return a(51247)}])}},A=>{var e=e=>A(A.s=e);A.O(0,[7557,636,6593,8792],()=>e(66622)),_N_E=A.O()}]);