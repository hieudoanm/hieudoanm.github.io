(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4958],{10769:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/chess/converter/pgn2gif",function(){return a(29703)}])},29703:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(33736),s=a(39106),n=a(75923),r=a(69155),c=a.n(r),d=a(53142),x=a.n(d),i=a(91844);let h='[Event "Norway Chess 2017"]\n[Site "Stavanger"]\n[Date "2017.06.08"]\n[Round "3.1"]\n[White "Carlsen, Magnus"]\n[Black "Nakamura, Hikaru"]\n[Result "1/2-1/2"]\n[ECO "B90"]\n[WhiteElo "2832"]\n[BlackElo "2785"]\n[PlyCount "80"]\n[EventDate "2017.??.??"]\n[Whiteclock "0:50:59"]\n[Blackclock "0:09:35"]\n[Link "https://www.chess.com/news/view/norway-carlsen-nakamura-clash-ends-in-draw-1116"]\n\n1. e4 c5 2. Nf3 ({Last year in Bilbao Carlsen used the move order} 2. Ne2 d6 3.\nNbc3 a6 4. g3 g6 5. Bg2 Bg7 6. d4 cxd4 7. Nxd4 {and eventually Nakaura would win\nhis first ever classical game against him.}) 2... d6 3. d4 cxd4 4. Nxd4 Nf6 5.\nNc3 a6 6. h3 g6 7. g3 {Nakamura expected this.} 7... Nc6 8. Be3 Bg7 9. Bg2 O-O\n10. O-O Nd7 11. b3 {Carlsen said he was "ashamed" of this move as he "didn\'t\ngrasp Hikaru\'s idea at all."} 11... Nxd4 12. Bxd4 Bxd4 13. Qxd4 b6 14. Nd5 Bb7\n15. c4 e5 16. Qe3 (16. Qd2) 16... b5 ({Also possible was} 16... Bxd5 17. cxd5 a5\n18. Rac1 Nc5 19. a3 a4 20. b4 Nb3 21. Rc6 Nd4 22. Rfc1 {and now} 22... b5 {is\nsafer than taking the exchange.}) 17. Rac1 bxc4 18. Rxc4 Bxd5 19. exd5 a5 20.\nRfc1 Nc5 {is the same.} 21. a3 f5 {"What he did was insanely risky."\n(Carlsen)} ({The world champ expected} 21... a4) 22. b4 axb4 23. axb4 Nd7 (23...\nf4 {doesn\'t work because of} 24. gxf4 exf4 25. Qf3) 24. Rc6 {"Perhaps not such\na good practical choice," said Carlsen.} ({He regretted that he didn\'t play}\n24. b5 {with the idea} 24... Nc5 25. Rxc5 dxc5 26. Qxe5 Re8 27. Qf4) 24... f4\n25. gxf4 exf4 26. Qe6+ Rf7 27. Qxd6 ({Carlsen "didn\'t see anything better" but\nNakamura was a bit concerned about} 27. Rc7 {and rightly so. The engine says}\n27... Ra1 $1 {is the only move for an equal position} ({although} 27... f3 28.\nBxf3 Qg5+ 29. Bg2 Qf4 {doesn\'t look bad either.})) 27... Qg5 28. Kh1 $6 {Carlsen\nsaid he started to miss things here.} ({A slightly better try was} 28. Rc8+ Rxc8\n29. Rxc8+ Kg7 {and only then} 30. Kh1 (30. h4 Qg4 $1 (30... Qxh4 31. Rc7))) 28...\nf3 29. Bf1 Nf6 {Here Nakamura started to get "really optimistic."} 30. Qe6 Kg7\n{Carlsen "completely missed" this move.} ({He was fixated at} 30... Re8 31.\nRc8 Kg7 32. Rxe8 Qxc1 33. Qe1 Qxe1 34. Rxe1) 31. Rc7 $6 ({Here a better try was}\n31. d6 Re8 32. Qb3 {and now Black\'s best try is probably} (32. Qc4 Re4 33. Qc2\nRg4 $1 34. Rc5 $1 Rg1+ 35. Kh2 Rg2+ 36. Kh1 {is a draw}) 32... Re2 {with a mess.})\n31... Rxc7 32. Rxc7+ Kh6 33. Qe1 Ra2 34. Re7 Ng4 {Forcing the draw.} ({After the\ngame Carlsen asked Nakamura why he didn\'t play} 34... Nxd5 {but the American\nplayer didn\'t see much of an advantage after} 35. Re5 Qd2 36. Qxd2+ Rxd2 37. b5)\n35. hxg4 Qh4+ 36. Kg1 Qxg4+ 37. Kh1 Qh4+ 38. Kg1 Qg4+ 39. Kh1 Qh4+ 40. Kg1 Qg4+\n1/2-1/2',o=e=>{let t=new n.d$;return t.loadPgn(e),t.history()},u=e=>{let t=new(c())({workers:1,quality:10,workerScript:"/nothing/workers/gif.worker.js"}),a=0;e.forEach(l=>{let s=new Image;s.src=l,s.onload=()=>{t.addFrame(s,{delay:500}),++a===e.length&&t.render()}}),t.on("finished",e=>{let t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="pgn.gif",a.click(),a.remove()})},f=()=>{let[{pgn:e=h,loading:t=!1},a]=(0,i.useState)({pgn:h,loading:!1}),[r,c]=(0,i.useState)(new n.d$),d=(0,i.useRef)(null);return(0,l.jsx)("div",{className:"container mx-auto px-8",children:(0,l.jsxs)("div",{className:"mx-auto flex h-full max-w-md flex-col items-center justify-center gap-y-4 py-4 md:gap-y-8 md:py-8",children:[(0,l.jsx)("h1",{className:"text-2xl md:text-4xl",children:"PGN to GIF"}),(0,l.jsx)("div",{className:"w-full rounded bg-gray-900 p-4 text-red-500",children:(0,l.jsx)("textarea",{id:"pgn",name:"pgn",className:"w-full",rows:4,placeholder:h,value:e,onChange:e=>a(t=>({...t,pgn:e.target.value}))})}),(0,l.jsx)("div",{ref:d,className:"aspect-square w-full overflow-hidden rounded",children:(0,l.jsx)(s.V,{id:"board",position:r.fen()})}),(0,l.jsx)("button",{type:"button",className:"w-full cursor-pointer rounded bg-gray-900 px-4 py-2 text-red-500",onClick:async()=>{let t=o(e);c(new n.d$);let a=[];for(let e of t)if(c(t=>{console.log(t.fen());let a=new n.d$(t.fen());return a.move(e),new n.d$(a.fen())}),d.current){let e=(await x()(d.current)).toDataURL("image/png");a.push(e)}u(a)},children:t?"Downloading":"Download"})]})})}},39106:(e,t,a)=>{"use strict";a.d(t,{V:()=>r});var l=a(33736),s=a(929),n=a(85714);let r=e=>{let{id:t="",position:a="",arePiecesDraggable:r=!1}=e;return(0,l.jsx)(n.Ve,{id:t,position:a,arePiecesDraggable:r,customDarkSquareStyle:{backgroundColor:"oklch(21% 0.034 264.665 / 100%)",text:"white"},customLightSquareStyle:{backgroundColor:"oklch(21% 0.034 264.665 / 95%)",text:"white"},customPieces:{wK:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.boH,{className:"text-2xl text-white md:text-4xl"})}),wQ:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.gq4,{className:"text-2xl text-white md:text-4xl"})}),wR:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.$lv,{className:"text-2xl text-white md:text-4xl"})}),wB:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.ZKN,{className:"text-2xl text-white md:text-4xl"})}),wN:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.zrC,{className:"text-2xl text-white md:text-4xl"})}),wP:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.UYB,{className:"text-2xl text-white md:text-4xl"})}),bK:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.boH,{className:"text-2xl text-red-500 md:text-4xl"})}),bQ:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.gq4,{className:"text-2xl text-red-500 md:text-4xl"})}),bR:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.$lv,{className:"text-2xl text-red-500 md:text-4xl"})}),bB:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.ZKN,{className:"text-2xl text-red-500 md:text-4xl"})}),bN:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.zrC,{className:"text-2xl text-red-500 md:text-4xl"})}),bP:()=>(0,l.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,l.jsx)(s.UYB,{className:"text-2xl text-red-500 md:text-4xl"})})}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1155,5858,6856,6285,636,6593,8792],()=>t(10769)),_N_E=e.O()}]);