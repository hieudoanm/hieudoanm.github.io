(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6317],{37243:(e,l,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/convert/csv",function(){return a(49444)}])},49444:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>v});var s=a(50612),t=a(55762);let n={delimiter:",",quote:'"'},c=function(e){var l;let{delimiter:a=",",quote:s='"'}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,t=e.split("\n"),c=null!==(l=t[0])&&void 0!==l?l:"";if(!c)return[];let r=t.splice(1),i=c.split(a);return r.map(e=>{let l=e.split(a),t={};for(let[e,a]of i.entries()){let n=RegExp(s,"g");Object.assign(t,{[a.replace(n,"")]:(l[e]||"").toString().replace(n,"")})}return t})},r=e=>{var l;let a=c(e),s=Object.keys(null!==(l=a[0])&&void 0!==l?l:{}),t=s.length>0?"| ".concat(s.join(" | ")," |"):"",n=s.length>0?"| ".concat(s.map(e=>"-".repeat(e.length)).join(" | ")," |"):"",r=a.map(e=>{let l=Object.values(e).map(e=>" ".concat(e," ")).join("|");return"|".concat(l,"|")}).join("\n");return"".concat(t,"\n").concat(n,"\n").concat(r)},i=e=>c(e).map(e=>{let l=Object.keys(e),a=Object.values(e),s=l.map(e=>'"'.concat(e,'"')).join(", "),t=a.map(e=>'"'.concat(e,'"')).join(", ");return"INSERT INTO schema.table (".concat(s,") VALUES (").concat(t,")")}).join(";\n");var d=a(75640),o=a(94344);let u=e=>{let{data:l=[]}=e;return(0,s.jsx)("div",{className:"h-full w-full overflow-auto rounded border",children:(0,s.jsxs)("table",{id:"html-table",className:"w-full",children:[l[0]?(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:Object.keys(l[0]).map(e=>(0,s.jsx)("th",{children:(0,s.jsx)("p",{className:"w-32 truncate px-2",title:e,children:e})},e))})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("tbody",{children:l.map(e=>(0,s.jsx)("tr",{className:"border-t",children:Object.values(e).map(e=>(0,s.jsx)("th",{children:(0,s.jsx)("p",{className:"w-32 truncate px-2",title:e,children:e})},e))},"row-".concat(JSON.stringify(e))))})]})})},v=()=>{let e="header1,header2,header3,header4\nvalue1,value2,value3,value4\nvalue1,value2,value3,value4\nvalue1,value2,value3,value4\nvalue1,value2,value3,value4",[{file:l,view:a,csv:n,json:v,md:h,sql:p,data:m=[]},j]=(0,o.useState)({file:"",view:"html",csv:e,json:JSON.stringify(c(e,{delimiter:","}),null,4),md:r(e),sql:i(e),data:c(e,{delimiter:","})}),x=async l=>{let a=e;if(""!==l){let e=await fetch("".concat(t.o,"/").concat(l));a=await e.text()}let s=c(a,{delimiter:","});console.log(s);let n=JSON.stringify(a,null,4),d=r(a),o=i(a);j(e=>({...e,file:l,csv:a,json:n,data:s,md:d,sql:o}))};return(0,s.jsx)("div",{className:"h-screen w-screen",children:(0,s.jsxs)("div",{className:"grid h-full grid-cols-2",children:[(0,s.jsx)("div",{className:"col-span-1 h-full",children:(0,s.jsxs)("div",{className:"flex h-full flex-col gap-y-4 p-4",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("select",{name:"file",className:"w-full appearance-none rounded-full bg-gray-900 px-4 py-2 text-gray-100",value:l,onChange:async e=>{let l=e.target.value;await x(l)},children:[(0,s.jsx)("option",{value:"",children:"New"}),(0,s.jsx)("option",{value:"data/csv/psychology/hofstede.csv",children:"Psychology - Hofstede"}),(0,s.jsx)("option",{value:"data/csv/usa/congresses.csv",children:"USA - Congresses"}),(0,s.jsx)("option",{value:"data/csv/usa/presidents.csv",children:"USA - Presidents"}),(0,s.jsx)("option",{value:"data/csv/usa/states.csv",children:"USA - States"}),(0,s.jsx)("option",{value:"data/csv/vietnam/licenses.csv",children:"Vietnam - Licences"}),(0,s.jsx)("option",{value:"data/csv/vietnam/provinces.csv",children:"Vietnam - Provinces"})]})}),(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"csv",name:"csv",placeholder:"CSV",className:"h-full w-full rounded-2xl border border-black p-4",style:{resize:"none"},value:n,onChange:e=>{let l=e.target.value,a=c(l,{delimiter:","}),s=JSON.stringify(a,null,4),t=r(l),n=i(l);j(e=>({...e,csv:l,json:s,data:a,md:t,sql:n}))}})})]})}),(0,s.jsx)("div",{className:"col-span-1 h-full bg-gray-900 text-gray-100",children:(0,s.jsxs)("div",{className:"flex h-full flex-col gap-y-4 p-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-x-2",children:[["html","json","md","sql"].map(e=>(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)("button",{type:"button",className:"w-full rounded-full bg-white py-2 text-black uppercase",onClick:()=>j(l=>({...l,view:e})),children:e})},e)),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)("button",{type:"button",className:"w-full rounded-full bg-white py-2 text-black uppercase",onClick:()=>{if("html"===a){var e,l;let a=null!==(l=null===(e=document.getElementById("html-table"))||void 0===e?void 0:e.outerHTML)&&void 0!==l?l:"";(0,d.l)(a)}else"json"===a?(0,d.l)(v):"md"===a?(0,d.l)(h):"sql"===a&&(0,d.l)(p)},children:"Copy"})})]}),"json"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"json",name:"json",placeholder:"JSON",value:v,readOnly:!0,disabled:!0,className:"no-scrollbar h-full w-full appearance-none"})}),"md"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"md",name:"md",placeholder:"MD",value:h,readOnly:!0,disabled:!0,className:"no-scrollbar h-full w-full appearance-none"})}),"sql"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"sql",name:"sql",placeholder:"SQL",value:p,readOnly:!0,disabled:!0,className:"no-scrollbar h-full w-full appearance-none"})}),"html"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)(u,{data:m})})]})})]})})}},75640:(e,l,a)=>{"use strict";a.d(l,{l:()=>s});let s=e=>{var l;if(!(null===(l=navigator)||void 0===l?void 0:l.clipboard))return alert("Incompatible");navigator.clipboard.writeText(e),alert('Copy "'.concat(e,'" to Clipboard'))}}},e=>{var l=l=>e(e.s=l);e.O(0,[636,6593,8792],()=>l(37243)),_N_E=e.O()}]);