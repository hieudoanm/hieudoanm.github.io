(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7285],{24158:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(27127),l=r(87690),o=r(81683),n=r(92408),i=r(64391),d=r(28129),s=r(23683),c=function(e){return e.CONVERT_PNG_TO_ICO="PNG to ICO",e.CONVERT_SVG_TO_PNG="SVG to PNG",e.FILTER_GOLDEN="Golden",e.FILTER_GRAYSCALE="Grayscale",e.BASE64="Base64",e.OCR="OCR",e}(c||{});let u=e=>{let t=/^data:(.*?);base64,/.exec(e);return console.info("match",t),t?t[1]:null},g={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/x-icon":"ico"},m=e=>new Promise((t,r)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>{let{result:e}=a;e?"string"==typeof e?t(e):t(new TextDecoder("utf-8").decode(e)):t("")},a.onerror=e=>r(Error(e.type))}),p=e=>new Promise((t,r)=>{let a=new Image;a.src=e,a.onload=async()=>{let e=document.createElement("canvas");e.width=32,e.height=32;let r=e.getContext("2d");r&&(r.drawImage(a,0,0,32,32),e.toBlob(r=>{r&&(t(URL.createObjectURL(r)),e.remove())},"image/vnd.microsoft.icon","-moz-parse-options:format=bmp;bpp=512"))},a.onerror=()=>{r(Error("error"))}}),h=e=>new Promise((t,r)=>{let a=new Image;a.src=e,a.onload=async()=>{let e=document.createElement("canvas");e.width=a.width||512,e.height=a.height||512;let r=e.getContext("2d");r&&(r.drawImage(a,0,0),e.toBlob(r=>{r&&(t(URL.createObjectURL(r)),e.remove())},"image/png"))},a.onerror=()=>{r(Error("error"))}}),w=async(e,t)=>{let{golden:a,grayscale:l,open_image:o}=await r.e(7843).then(r.bind(r,57843)),n=document.createElement("canvas");n.width=t.width,n.height=t.height;let i=n.getContext("2d");if(null===i)return"";i.drawImage(t,0,0);let d=o(n,i);return n.remove(),"golden"===e?a(d):"grayscale"===e&&l(d),d.get_base64()},f=(e,t)=>new Promise((r,a)=>{let l=new Image;l.src=t,l.onload=async()=>{r(await w(e,l))},l.onerror=()=>{a(Error("Error"))}}),b=e=>{let t=URL.createObjectURL(e);return new Promise(e=>{(0,s.recognize)(t,"eng").then(t=>{var r;let{data:a}=t;e(null!=(r=a.text)?r:"No Text")}).catch(t=>{console.error("error",t),e("Unable to Recognize")})})},v=async e=>{let{func:t,file:r}=e;if("Base64"===t)return await m(r);if("OCR"===t)return await b(r);if("Golden"===t){let e=await m(r);return await f("golden",e)}if("Grayscale"===t){let e=await m(r);return await f("grayscale",e)}if("PNG to ICO"===t){let e=await m(r);return await p(e)}else if("SVG to PNG"===t){let e=await m(r);return await h(e)}return""},x=()=>{let{width:e}=(0,l.l)(),t=e>768?"horizontal":"vertical";console.info("direction & width",{direction:t,width:e});let[{func:r="Base64",loading:s=!1,inputFile:c=null,inputString:p="",output:h=""},w]=(0,i.useState)({func:"Base64",loading:!1,inputFile:null,inputString:"",output:""});return(0,i.useEffect)(()=>{let e=document.getElementsByClassName("gutter").item(0);e&&("vertical"===t?(e.classList.remove("!h-full","w-1"),e.classList.add("!w-full","h-1")):"horizontal"===t&&(e.classList.remove("!w-full","h-1"),e.classList.add("!h-full","w-1")))},[t]),(0,a.jsx)("div",{className:"h-screen w-screen",children:(0,a.jsxs)(d.A,{expandToMin:!1,sizes:[50,50],minSize:150,gutter:()=>{let e=document.createElement("div");return e.className="gutter bg-gray-300 hover:cursor-pointer order-2",e},gutterAlign:"center",gutterSize:4,direction:t,className:"flex h-full flex-col md:flex-row",children:[(0,a.jsxs)("div",{className:"order-3 flex h-full flex-col gap-y-1 bg-gray-100 p-2 text-gray-900 md:order-1 md:gap-y-2 md:p-4 ".concat(e>768?"!h-full":"!w-full"),children:[(0,a.jsx)("p",{className:"font-semibold",children:"Image"}),(0,a.jsx)("div",{className:"h-full w-full grow overflow-hidden rounded border border-dashed border-gray-500 bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(p,")")}}),(0,a.jsxs)("label",{htmlFor:"upload-image",className:"cursor-pointer rounded border border-dashed border-gray-500 py-2 text-center",children:[(0,a.jsx)("input",{type:"file",name:"image",accept:"image/*",id:"upload-image",className:"hidden",onChange:async e=>{let t=e.target.files;if(null===t)return;let a=t.item(0);if(!a)return;let l=await m(a);w(e=>({...e,loading:!0,inputFile:a,inputString:l}));let o=await v({func:r,file:a});w(e=>({...e,loading:!1,output:o}))}}),(0,a.jsx)("span",{children:"Upload File"})]})]}),(0,a.jsxs)("div",{className:"order-1 flex h-full flex-col gap-y-1 bg-gray-900 p-2 text-gray-100 md:order-3 md:gap-y-2 md:p-4 ".concat(e>768?"!h-full":"!w-full"),children:[(0,a.jsxs)("select",{id:"func",name:"func",className:"w-full appearance-none font-semibold",value:r,onChange:async e=>{let t=e.target.value;if(w(e=>({...e,func:t})),c){w(e=>({...e,loading:!0}));let e=await v({func:t,file:c});w(t=>({...t,loading:!1,output:e}))}},children:[(0,a.jsxs)("optgroup",{label:"Convert",children:[(0,a.jsx)("option",{value:"PNG to ICO",children:"PNG to ICO"}),(0,a.jsx)("option",{value:"SVG to PNG",children:"SVG to PNG"})]}),(0,a.jsxs)("optgroup",{label:"Filter",children:[(0,a.jsx)("option",{value:"Golden",children:"Golden"}),(0,a.jsx)("option",{value:"Grayscale",children:"Grayscale"})]}),(0,a.jsxs)("optgroup",{label:"Text",children:[(0,a.jsx)("option",{value:"Base64",children:"Base64"}),(0,a.jsx)("option",{value:"OCR",children:"OCR"})]})]}),"PNG to ICO"===r||"SVG to PNG"===r||"Golden"===r||"Grayscale"===r?(0,a.jsx)("div",{className:"w-full grow overflow-auto",children:!s&&(0,a.jsx)("div",{className:"h-full w-full grow overflow-hidden rounded bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(h,")")}})}):(0,a.jsx)("textarea",{id:"output",name:"output",placeholder:"Output",className:"w-full grow rounded border border-dashed border-gray-700 p-2 focus:outline-none",value:s?"Loading":null!=h?h:"No File Yet",readOnly:!0}),(0,a.jsx)("button",{type:"button",className:"cursor-pointer rounded bg-red-500 py-2 font-semibold text-gray-100",onClick:()=>{if("PNG to ICO"===r||"SVG to PNG"===r||"Golden"===r||"Grayscale"===r){var e;let t=g[null!=(e=u(h))?e:""];console.info("format",t),(0,o.G)({format:t,content:h,filename:"image"})}else(0,n.l)(h)},children:"PNG to ICO"===r||"SVG to PNG"===r||"Golden"===r||"Grayscale"===r?"Download":"Copy"})]})]})})}},81683:(e,t,r)=>{"use strict";r.d(t,{G:()=>l});let a=e=>{let{content:t,format:r,filename:a}=e,l=encodeURI(t),o=document.createElement("a");o.setAttribute("href",l);let n=new Date().toISOString().split("T")[0],i="".concat(a,"-").concat(n,".").concat(r);o.setAttribute("download",i),document.body.append(o),o.click(),o.remove()},l=e=>{let{content:t,format:r,filename:l}=e;a({content:t,format:r,filename:l})}},87690:(e,t,r)=>{"use strict";r.d(t,{l:()=>l});var a=r(64391);let l=()=>{let[e,t]=(0,a.useState)({width:0,height:0}),r=(0,a.useCallback)(()=>{var e,r;t({width:(null==(e=window)?void 0:e.innerWidth)||0,height:(null==(r=window)?void 0:r.innerHeight)||0})},[]);return(0,a.useEffect)(()=>{if(window)return window.addEventListener("resize",r),r(),()=>{window&&window.removeEventListener("resize",r)}},[r]),e}},88334:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/photos/converter",function(){return r(24158)}])},92408:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});let a=e=>{var t;if(!(null==(t=navigator)?void 0:t.clipboard))return alert("Incompatible");navigator.clipboard.writeText(e),alert('Copy "'.concat(e,'" to Clipboard'))}}},e=>{var t=t=>e(e.s=t);e.O(0,[1667,636,6593,8792],()=>t(88334)),_N_E=e.O()}]);