(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1037],{6565:(e,l,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/csv",function(){return a(7947)}])},7947:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>u});var s=a(5105);let t={delimiter:",",quote:'"'},n=function(e){var l;let{delimiter:a=",",quote:s='"'}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=e.split("\n"),c=null!==(l=n[0])&&void 0!==l?l:"";if(!c)return[];let r=n.splice(1),i=c.split(a);return r.map(e=>{let l=e.split(a),t={};for(let[e,a]of i.entries()){let n=RegExp(s,"g");Object.assign(t,{[a.replace(n,"")]:(l[e]||"").toString().replace(n,"")})}return t})},c=e=>{var l;let a=n(e),s=Object.keys(null!==(l=a[0])&&void 0!==l?l:{}),t=s.length>0?"| ".concat(s.join(" | ")," |"):"",c=s.length>0?"| ".concat(s.map(e=>"-".repeat(e.length)).join(" | ")," |"):"",r=a.map(e=>{let l=Object.values(e).map(e=>" ".concat(e," ")).join("|");return"|".concat(l,"|")}).join("\n");return"".concat(t,"\n").concat(c,"\n").concat(r)},r=e=>n(e).map(e=>{let l=Object.keys(e),a=Object.values(e),s=l.map(e=>'"'.concat(e,'"')).join(", "),t=a.map(e=>'"'.concat(e,'"')).join(", ");return"INSERT INTO schema.table (".concat(s,") VALUES (").concat(t,")")}).join(";\n");var i=a(9562),d=a(8101);let o=e=>{let{data:l=[]}=e;return(0,s.jsx)("div",{className:"h-full w-full overflow-auto rounded border",children:(0,s.jsxs)("table",{id:"html-table",className:"w-full",children:[l[0]?(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:Object.keys(l[0]).map(e=>(0,s.jsx)("th",{children:(0,s.jsx)("p",{className:"w-32 truncate px-2",title:e,children:e})},e))})}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("tbody",{children:l.map(e=>(0,s.jsx)("tr",{className:"border-t",children:Object.values(e).map(e=>(0,s.jsx)("th",{children:(0,s.jsx)("p",{className:"w-32 truncate px-2",title:e,children:e})},e))},"row-".concat(JSON.stringify(e))))})]})})},u=()=>{let e="header1,header2,header3,header4\nvalue1,value2,value3,value4\nvalue1,value2,value3,value4\nvalue1,value2,value3,value4\nvalue1,value2,value3,value4",[{file:l,view:a,csv:t,json:u,md:v,sql:h,data:p=[]},m]=(0,d.useState)({file:"",view:"html",csv:e,json:JSON.stringify(n(e,{delimiter:","}),null,4),md:c(e),sql:r(e),data:n(e,{delimiter:","})}),j=async l=>{let a=e;if(""!==l){let e=await fetch("/".concat(l));a=await e.text()}let s=n(a,{delimiter:","});console.log(s);let t=JSON.stringify(a,null,4),i=c(a),d=r(a);m(e=>({...e,file:l,csv:a,json:t,data:s,md:i,sql:d}))};return(0,s.jsx)("div",{className:"h-screen w-screen",children:(0,s.jsxs)("div",{className:"grid h-full grid-cols-2",children:[(0,s.jsx)("div",{className:"col-span-1 h-full",children:(0,s.jsxs)("div",{className:"flex h-full flex-col gap-y-4 p-4",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("select",{name:"file",className:"w-full appearance-none rounded-full bg-black px-4 py-2 text-white",value:l,onChange:async e=>{let l=e.target.value;await j(l)},children:[(0,s.jsx)("option",{value:"",children:"New"}),(0,s.jsx)("option",{value:"data/csv/usa/congresses.csv",children:"USA - Congresses"}),(0,s.jsx)("option",{value:"data/csv/usa/presidents.csv",children:"USA - Presidents"}),(0,s.jsx)("option",{value:"data/csv/usa/states.csv",children:"USA - States"}),(0,s.jsx)("option",{value:"data/csv/vietnam/licenses.csv",children:"Vietnam - Licences"}),(0,s.jsx)("option",{value:"data/csv/vietnam/provinces.csv",children:"Vietnam - Provinces"})]})}),(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"csv",name:"csv",placeholder:"CSV",className:"h-full w-full rounded-2xl border border-black p-4",style:{resize:"none"},value:t,onChange:e=>{let l=e.target.value,a=n(l,{delimiter:","}),s=JSON.stringify(a,null,4),t=c(l),i=r(l);m(e=>({...e,csv:l,json:s,data:a,md:t,sql:i}))}})})]})}),(0,s.jsx)("div",{className:"col-span-1 h-full bg-black text-white",children:(0,s.jsxs)("div",{className:"flex h-full flex-col gap-y-4 p-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-x-2",children:[["html","json","md","sql"].map(e=>(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)("button",{type:"button",className:"w-full rounded-full bg-white py-2 text-black uppercase",onClick:()=>m(l=>({...l,view:e})),children:e})},e)),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)("button",{type:"button",className:"w-full rounded-full bg-white py-2 text-black uppercase",onClick:()=>{if("html"===a){var e,l;let a=null!==(l=null===(e=document.getElementById("html-table"))||void 0===e?void 0:e.outerHTML)&&void 0!==l?l:"";(0,i.l)(a)}else"json"===a?(0,i.l)(u):"md"===a?(0,i.l)(v):"sql"===a&&(0,i.l)(h)},children:"Copy"})})]}),"json"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"json",name:"json",placeholder:"JSON",value:u,readOnly:!0,disabled:!0,className:"no-scrollbar h-full w-full appearance-none"})}),"md"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"md",name:"md",placeholder:"MD",value:v,readOnly:!0,disabled:!0,className:"no-scrollbar h-full w-full appearance-none"})}),"sql"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)("textarea",{id:"sql",name:"sql",placeholder:"SQL",value:h,readOnly:!0,disabled:!0,className:"no-scrollbar h-full w-full appearance-none"})}),"html"===a&&(0,s.jsx)("div",{className:"grow",children:(0,s.jsx)(o,{data:p})})]})})]})})}},9562:(e,l,a)=>{"use strict";a.d(l,{l:()=>s});let s=e=>{var l;if(!(null===(l=navigator)||void 0===l?void 0:l.clipboard))return alert("Incompatible");navigator.clipboard.writeText(e),alert('Copy "'.concat(e,'" to Clipboard'))}}},e=>{var l=l=>e(e.s=l);e.O(0,[636,6593,8792],()=>l(6565)),_N_E=e.O()}]);